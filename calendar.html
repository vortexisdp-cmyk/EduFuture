<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Адаптивний календар</title>
    <style>
        /* Основні стилі календаря */
        .calendar-container {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 100%;
            margin: 20px auto;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--calendar-shadow, 0 4px 12px rgba(0, 0, 0, 0.1));
            background-color: var(--calendar-bg, #ffffff);
            color: var(--calendar-text, #333333);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--calendar-header-bg, #f0f0f0);
            color: var(--calendar-header-text, #333333);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            color: var(--calendar-nav-btn-color, #555555);
            transition: background-color 0.2s ease;
        }

        .calendar-nav button:hover {
             background-color: var(--calendar-nav-btn-hover-bg, rgba(0, 0, 0, 0.05));
        }

        .calendar-grid {
             display: grid;
             grid-template-columns: repeat(7, 1fr);
             text-align: center;
             border-top: 1px solid var(--calendar-grid-border, #e0e0e0);
        }

        .calendar-day-header {
            padding: 12px 5px;
            font-weight: bold;
            font-size: 0.9em;
            background-color: var(--calendar-day-header-bg, #f8f8f8);
            border-bottom: 1px solid var(--calendar-grid-border, #e0e0e0);
        }

        .calendar-cell {
            padding: 12px 5px;
            min-height: 40px;
            border-right: 1px solid var(--calendar-grid-border, #e0e0e0);
            border-bottom: 1px solid var(--calendar-grid-border, #e0e0e0);
            cursor: pointer;
            transition: background-color 0.2s ease;
            position: relative;
        }

        .calendar-cell:nth-child(7n) {
             border-right: none;
        }

        .calendar-cell.other-month {
             color: var(--calendar-other-month-text, #bbbbbb);
        }

        .calendar-cell.today {
             background-color: var(--calendar-today-bg, #e3f2fd);
             font-weight: bold;
             color: var(--calendar-today-text, #1976d2);
        }

        .calendar-cell.selected {
             background-color: var(--calendar-selected-bg, #1976d2);
             color: var(--calendar-selected-text, white);
        }

        .calendar-cell:hover:not(.selected):not(.other-month) {
             background-color: var(--calendar-cell-hover-bg, #f5f5f5);
        }

        /* Адаптивність */
        @media (max-width: 600px) {
            .calendar-header {
                padding: 12px 15px;
                flex-direction: column;
                gap: 10px;
            }

            .calendar-nav {
                width: 100%;
                justify-content: space-between;
            }

            .calendar-day-header,
            .calendar-cell {
                padding: 8px 2px;
                font-size: 0.85em;
            }

            .calendar-cell {
                min-height: 35px;
            }
        }

        /* Приклади тем */
        /* Світла тема (за замовчуванням) */
        .theme-light {
            --calendar-bg: #ffffff;
            --calendar-text: #333333;
            --calendar-header-bg: #f0f0f0;
            --calendar-header-text: #333333;
            --calendar-nav-btn-color: #555555;
            --calendar-nav-btn-hover-bg: rgba(0, 0, 0, 0.05);
            --calendar-grid-border: #e0e0e0;
            --calendar-day-header-bg: #f8f8f8;
            --calendar-other-month-text: #bbbbbb;
            --calendar-today-bg: #e3f2fd;
            --calendar-today-text: #1976d2;
            --calendar-selected-bg: #1976d2;
            --calendar-selected-text: white;
            --calendar-cell-hover-bg: #f5f5f5;
            --calendar-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Темна тема */
        .theme-dark {
            --calendar-bg: #2d2d2d;
            --calendar-text: #e0e0e0;
            --calendar-header-bg: #3a3a3a;
            --calendar-header-text: #ffffff;
            --calendar-nav-btn-color: #cccccc;
            --calendar-nav-btn-hover-bg: rgba(255, 255, 255, 0.1);
            --calendar-grid-border: #444444;
            --calendar-day-header-bg: #333333;
            --calendar-other-month-text: #777777;
            --calendar-today-bg: #3a5f8a;
            --calendar-today-text: #ffffff;
            --calendar-selected-bg: #4d9de0;
            --calendar-selected-text: #ffffff;
            --calendar-cell-hover-bg: #3a3a3a;
            --calendar-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* Фіолетова тема */
        .theme-purple {
            --calendar-bg: #f5f0ff;
            --calendar-text: #4b0082;
            --calendar-header-bg: #e6d6ff;
            --calendar-header-text: #4b0082;
            --calendar-nav-btn-color: #6a0dad;
            --calendar-nav-btn-hover-bg: rgba(106, 13, 173, 0.1);
            --calendar-grid-border: #d9c2ff;
            --calendar-day-header-bg: #f0e6ff;
            --calendar-other-month-text: #a98fcc;
            --calendar-today-bg: #d8bfd8;
            --calendar-today-text: #4b0082;
            --calendar-selected-bg: #9370db;
            --calendar-selected-text: white;
            --calendar-cell-hover-bg: #e6d6ff;
            --calendar-shadow: 0 4px 12px rgba(147, 112, 219, 0.2);
        }

        /* Контейнер для демонстрації */
        .demo-container {
            padding: 20px;
            text-align: center;
        }

        .theme-selector {
            margin-bottom: 20px;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>

<div class="demo-container">
    <h1>Календар</h1>
    <label for="theme-select">Оберіть тему: </label>
    <select id="theme-select" class="theme-selector">
        <option value="theme-light">Світла</option>
        <option value="theme-dark">Темна</option>
        <option value="theme-purple">Фіолетова</option>
    </select>
    <div class="calendar-container" id="calendar"></div>
</div>

<script>
    class AdaptiveCalendar {
        constructor(containerId) {
            this.container = document.getElementById(containerId);
            this.currentDate = new Date();
            this.selectedDate = null;
            this.onDateSelect = null;
            this.render();
            this.attachEventListeners();
        }

        attachEventListeners() {
            this.container.addEventListener('click', (e) => {
                if (e.target.closest('.calendar-nav button')) {
                    const btn = e.target.closest('.calendar-nav button');
                    if (btn.dataset.action === 'prev') {
                        this.previousMonth();
                    } else if (btn.dataset.action === 'next') {
                        this.nextMonth();
                    }
                }

                if (e.target.closest('.calendar-cell:not(.other-month)')) {
                    const day = parseInt(e.target.closest('.calendar-cell').dataset.day);
                    if (!isNaN(day)) {
                        this.selectDate(new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), day));
                        if (this.onDateSelect) {
                            this.onDateSelect(this.selectedDate);
                        }
                    }
                }
            });
        }

        previousMonth() {
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);
            this.render();
        }

        nextMonth() {
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);
            this.render();
        }

        selectDate(date) {
            this.selectedDate = date;
            this.render();
        }

        render() {
            const year = this.currentDate.getFullYear();
            const month = this.currentDate.getMonth();

            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());

            const today = new Date();
            const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;

            this.container.innerHTML = `
                <div class="calendar-header">
                    <div class="calendar-nav">
                        <button data-action="prev">&#8249;</button>
                    </div>
                    <h2>${this.getMonthName(month)} ${year}</h2>
                    <div class="calendar-nav">
                        <button data-action="next">&#8250;</button>
                    </div>
                </div>
                <div class="calendar-grid">
                    ${this.renderDayHeaders()}
                    ${this.renderDays(startDate, lastDay, today, isCurrentMonth)}
                </div>
            `;
        }

        renderDayHeaders() {
            const days = ['Нд', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];
            return days.map(day => `<div class="calendar-day-header">${day}</div>`).join('');
        }

        renderDays(startDate, lastDay, today, isCurrentMonth) {
            let daysHtml = '';
            const current = new Date(startDate);

            for (let i = 0; i < 42; i++) {
                const isOtherMonth = current.getMonth() !== this.currentDate.getMonth();
                const isToday = isCurrentMonth && current.toDateString() === today.toDateString();
                const isSelected = this.selectedDate && current.toDateString() === this.selectedDate.toDateString();

                let className = 'calendar-cell';
                if (isOtherMonth) className += ' other-month';
                if (isToday) className += ' today';
                if (isSelected) className += ' selected';

                daysHtml += `<div class="${className}" data-day="${current.getDate()}">${current.getDate()}</div>`;
                current.setDate(current.getDate() + 1);
            }

            return daysHtml;
        }

        getMonthName(monthIndex) {
            const months = [
                'Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', 'Червень',
                'Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'
            ];
            return months[monthIndex];
        }
    }

    // Ініціалізація календаря
    document.addEventListener('DOMContentLoaded', () => {
        const calendar = new AdaptiveCalendar('calendar');

        // Приклад обробника вибору дати
        calendar.onDateSelect = function(date) {
            console.log('Обрано дату:', date.toDateString());
            // alert(`Ви обрали: ${date.toLocaleDateString()}`);
        };

        // Перемикання тем
        const themeSelector = document.getElementById('theme-select');
        const calendarContainer = document.querySelector('.calendar-container');

        themeSelector.addEventListener('change', (e) => {
            // Видаляємо всі класи тем
            calendarContainer.classList.remove('theme-light', 'theme-dark', 'theme-purple');
            // Додаємо обрану тему
            calendarContainer.classList.add(e.target.value);
        });

        // Встановлюємо тему за замовчуванням
        calendarContainer.classList.add('theme-light');
    });
</script>

</body>

</html>
